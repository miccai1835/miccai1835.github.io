(function(){var e={812:function(e,t,n){"use strict";var a=n(9242),r=n(3396),o=n(7139),i=n(4870),l=n(4775),s=(n(4293),n(9591),n(5255)),c=(n(600),n(3577)),d=n(6960),u=n(8514),p=n(4983),g=n(5522),v=n(9879),f=n(4446),m=n(2262);const h=e=>((0,r.dD)("data-v-3052ae52"),e=e(),(0,r.Cn)(),e),w={id:"reco"},y=h((()=>(0,r._)("h2",null,"Scan Sequence",-1))),x=h((()=>(0,r._)("div",{class:"context"},null,-1))),_=1;var I={__name:"ScanSequence",emits:["change_frame_id"],setup(e,{expose:t,emit:n}){const a=(0,i.iH)(1),o=(0,i.iH)(_),h=(0,i.iH)(null),I=(0,i.iH)(0),P=(0,i.iH)(0);let b=null;const A=(0,i.iH)("Loading");function C(){const e=c.ZP.newInstance(),t=d.ZP.newInstance();e.addRenderer(t);const n=p.ZP.newInstance(),a=document.querySelector(".context");n.setContainer(a),e.addView(n);const r=a.getBoundingClientRect();n.setSize(r.width,r.height);const o=u.ZP.newInstance();o.setView(n),o.initialize(),o.bindEvents(a);const i=m.ZP.newInstance(),l=f.ZP.newInstance(),s=v.ZP.newInstance(),w=g.ZP.newInstance();h.value={renderWindow:e,renderer:t,openGlRenderWindow:n,interactor:o,actor:w,mapper:s,reslice:l,reader:i,container:a}}let Z=!1;function M(){const{reader:e,reslice:t,mapper:n,actor:r,renderer:i,renderWindow:l}=h.value;P.value=0;const c=e=>{e.lengthComputable?(P.value=Math.floor(100*e.loaded/e.total),P.value<100&&(A.value="Loading "+P.value+"%")):P.value=100};s.Z.fetchBinary("/data/frame_"+I.value+".vti",{progressCallback:c}).then((s=>{e.parseAsArrayBuffer(s);const c=e.getOutputData(0),d=c.getExtent();o.value=_,a.value=d[1]+1,t.setInputData(c),n.setInputConnection(t.getOutputPort()),n.setISlice(o.value-1),n.onModified((()=>{l.render()})),r.setMapper(n),i.addActor(r),Z||(i.getActiveCamera().setPosition(-1,0,0),Z=!0),i.getActiveCamera().setViewUp(0,-1,0),i.getActiveCamera().setParallelProjection(!0),i.resetCamera(),l.render(),O()}))}function S(){const{container:e}=h.value;null===b&&(b=l.kN.service({target:e,lock:!0,text:A,background:"rgba(0, 0, 0, 0.7)"}))}function O(){null!==b&&(b.close(),b=null)}function W(){if(h.value){const{renderWindow:e,renderer:t,openGlRenderWindow:n,interactor:a,actor:r,mapper:o,reslice:i,reader:l}=h.value;l.delete(),i.delete(),o.delete(),r.delete(),a.delete(),n.delete(),t.delete(),e.delete(),h.value=null}}function D(e){const{mapper:t}=h.value;t.setISlice(e-1),n("change_frame_id",e)}function k(e){if(I.value=e,h.value){const{actor:e,mapper:t,reslice:n,reader:a}=h.value;a.delete(),n.delete(),t.delete(),e.delete()}const t=m.ZP.newInstance(),n=f.ZP.newInstance(),a=v.ZP.newInstance(),r=g.ZP.newInstance(),{renderWindow:o,renderer:i,openGlRenderWindow:l,interactor:s,container:c}=h.value;i.removeAllActors(),h.value={renderWindow:o,renderer:i,openGlRenderWindow:l,interactor:s,actor:r,mapper:a,reslice:n,reader:t,container:c},S(),M()}return(0,r.bv)((()=>{C(),S(),M()})),(0,r.Jd)((()=>{W()})),t({data_id_change:k,data_id:I}),(e,t)=>{const n=(0,r.up)("el-slider");return(0,r.wg)(),(0,r.iD)("div",w,[y,x,(0,r.Wm)(n,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),min:_,max:a.value,onInput:D,"show-input":""},null,8,["modelValue","max"])])}}},P=n(89);const b=(0,P.Z)(I,[["__scopeId","data-v-3052ae52"]]);var A=b,C=(n(9629),n(4527)),Z=n(787),M=n(680),S=n(6439),O=n(7819),W=n(5356),D=n(6265),k=n.n(D),R=n(4876),G=n(4173),H=n(907),U=n(9547);const N=e=>((0,r.dD)("data-v-5607c48c"),e=e(),(0,r.Cn)(),e),z={id:"reco"},B=N((()=>(0,r._)("h2",null,"Ground Truth",-1))),L=N((()=>(0,r._)("div",{class:"con1"},null,-1))),V=[B,L],j=1;var T={__name:"ActualVolume",setup(e,{expose:t}){const n=(0,i.iH)(1),a=(0,i.iH)(j),o=(0,i.iH)(null),g=(0,i.iH)(0),v=(0,i.iH)(0);let f=null,h=!1,w=!1;const y=(0,i.iH)("Loading"),x=R.ZP.newInstance();x.addRGBPoint(0,85/255,0,0),x.addRGBPoint(95,1,1,1),x.addRGBPoint(225,.66,.66,.5),x.addRGBPoint(255,.3,1,.5);const _=G.ZP.newInstance();_.addPoint(0,0),_.addPoint(255,1);let I={};function P(e,t){const n=1.5,a=[e[t][0][0]+n*(e[t][0][0]-e[t][2][0]),e[t][0][1]+n*(e[t][0][1]-e[t][2][1]),e[t][0][2]+n*(e[t][0][2]-e[t][2][2])],r=[e[t][0][0]+n*(e[t][1][0]-e[t][0][0]),e[t][0][1]+n*(e[t][1][1]-e[t][0][1]),e[t][0][2]+n*(e[t][1][2]-e[t][0][2])],o=[e[t][0][0]+n*(e[t][0][0]-e[t][1][0]),e[t][0][1]+n*(e[t][0][1]-e[t][1][1]),e[t][0][2]+n*(e[t][0][2]-e[t][1][2])];return[a,r,o]}function b(){const e=c.ZP.newInstance();I.renderWindow=e;const t=d.ZP.newInstance();e.addRenderer(t);const n=p.ZP.newInstance(),a=document.querySelector(".con1");n.setContainer(a),e.addView(n);const r=a.getBoundingClientRect();n.setSize(r.width,r.height);const i=u.ZP.newInstance();i.setView(n),i.initialize(),i.bindEvents(a),i.setInteractorStyle(C.ZP.newInstance());const l=m.ZP.newInstance(),s=M.ZP.newInstance(),g=Z.ZP.newInstance();o.value={renderWindow:e,renderer:t,openGlRenderWindow:n,interactor:i,actor:g,mapper:s,reader:l,container:a}}function A(){h=!0;const{reader:e,mapper:t,actor:n,renderWindow:a,renderer:r}=o.value;v.value=0;const i=e=>{e.lengthComputable?(v.value=Math.floor(100*e.loaded/e.total),v.value<100&&(y.value="Loading "+v.value+"%")):v.value=100};s.Z.fetchBinary("/data/volume_"+g.value+".vti",{progressCallback:i}).then((o=>{e.parseAsArrayBuffer(o);const i=e.getOutputData(0),l=i.getPointData().getScalars()||i.getPointData().getArrays()[0],s=l.getRange();t.setInputData(i);const c=.7*Math.sqrt(i.getSpacing().map((e=>e*e)).reduce(((e,t)=>e+t),0));t.setSampleDistance(c),n.setMapper(t),n.getProperty().setRGBTransferFunction(0,x),n.getProperty().setScalarOpacity(0,_),n.getProperty().setInterpolationTypeToLinear(),n.getProperty().setScalarOpacityUnitDistance(0,H.ZP.getDiagonalLength(i.getBounds())/Math.max(...i.getDimensions())),n.getProperty().setGradientOpacityMinimumValue(0,0),n.getProperty().setGradientOpacityMaximumValue(0,.05*(s[1]-s[0])),n.getProperty().setShade(!0),n.getProperty().setUseGradientOpacity(0,!0),n.getProperty().setGradientOpacityMinimumOpacity(0,0),n.getProperty().setGradientOpacityMaximumOpacity(0,1),n.getProperty().setAmbient(.2),n.getProperty().setDiffuse(.7),n.getProperty().setSpecular(.3),n.getProperty().setSpecularPower(8),r.addVolume(n);const d=U.ZP.newInstance();d.setCamera(r.getActiveCamera()),d.setDataBounds(n.getBounds()),r.addActor(d),r.resetCamera(),a.render(),h=!1,B()}))}function D(){w=!0,k().get("/data/series_"+g.value+".json").then((e=>{if(0===e.data.code){const t=e.data.data;I.series=t,a.value=j,n.value=t.length;const r=S.ZP.newInstance();I.plane=r;const[i,l,s]=P(t,0);r.setOrigin(i),r.setPoint1(l),r.setPoint2(s);const c=O.ZP.newInstance(),d=W.ZP.newInstance();c.setInputConnection(r.getOutputPort()),d.setMapper(c),d.getProperty().setColor([.25,.5,1]);const{renderWindow:u,renderer:p}=o.value;p.addActor(d),p.resetCamera(),u.render(),w=!1,B()}}))}function N(){const{container:e}=o.value;null===f&&(f=l.kN.service({target:e,lock:!0,text:y,background:"rgba(0, 0, 0, 0.7)"}))}function B(){null===f||h||w||(f.close(),f=null)}function L(){if(o.value){const{renderWindow:e,renderer:t,openGlRenderWindow:n,interactor:a,actor:r,mapper:i,reader:l}=o.value;l.delete(),i.delete(),r.delete(),a.delete(),n.delete(),t.delete(),e.delete(),o.value=null}}function T(e){const[t,n,a]=P(I.series,e-1);I.plane.setOrigin(t),I.plane.setPoint1(n),I.plane.setPoint2(a),I.renderWindow.render()}function q(e){if(g.value=e,o.value){const{actor:e,mapper:t,reader:n}=o.value;n.delete(),t.delete(),e.delete()}const t=m.ZP.newInstance(),n=M.ZP.newInstance(),a=Z.ZP.newInstance(),{renderWindow:r,renderer:i,openGlRenderWindow:l,interactor:s,container:c}=o.value;i.removeAllActors(),o.value={renderWindow:r,renderer:i,openGlRenderWindow:l,interactor:s,actor:a,mapper:n,reader:t,container:c},N(),A(),D()}return(0,r.bv)((()=>{b(),N(),A(),D()})),(0,r.Jd)((()=>{L()})),t({value_change:T,value:a,data_id_change:q,data_id:g}),(e,t)=>((0,r.wg)(),(0,r.iD)("div",z,V))}};const q=(0,P.Z)(T,[["__scopeId","data-v-5607c48c"]]);var F=q;const E=e=>((0,r.dD)("data-v-031efbae"),e=e(),(0,r.Cn)(),e),J={id:"reco"},Y=E((()=>(0,r._)("h2",null,"Reconstructed Volume",-1))),X=E((()=>(0,r._)("div",{class:"con2"},null,-1))),K=1;var $={__name:"RecoVolume",emits:["reconstructing"],setup(e,{expose:t,emit:n}){const a=(0,i.iH)(1),o=(0,i.iH)(K),g=(0,i.iH)(null),v=(0,i.iH)(0),f=(0,i.iH)(0);let h=null,w=!1,y=!1;const x=(0,i.iH)("Pending ..."),_=(0,i.iH)(!1),I=R.ZP.newInstance();I.addRGBPoint(0,85/255,0,0),I.addRGBPoint(95,1,1,1),I.addRGBPoint(225,.66,.66,.5),I.addRGBPoint(255,.3,1,.5);const P=G.ZP.newInstance();P.addPoint(0,0),P.addPoint(255,1);let b={};function A(e,t){const n=1.5,a=[e[t][0][0]+n*(e[t][0][0]-e[t][2][0]),e[t][0][1]+n*(e[t][0][1]-e[t][2][1]),e[t][0][2]+n*(e[t][0][2]-e[t][2][2])],r=[e[t][0][0]+n*(e[t][1][0]-e[t][0][0]),e[t][0][1]+n*(e[t][1][1]-e[t][0][1]),e[t][0][2]+n*(e[t][1][2]-e[t][0][2])],o=[e[t][0][0]+n*(e[t][0][0]-e[t][1][0]),e[t][0][1]+n*(e[t][0][1]-e[t][1][1]),e[t][0][2]+n*(e[t][0][2]-e[t][1][2])];return[a,r,o]}function D(){const e=c.ZP.newInstance();b.renderWindow=e;const t=d.ZP.newInstance();e.addRenderer(t);const n=p.ZP.newInstance(),a=document.querySelector(".con2");n.setContainer(a),e.addView(n);const r=a.getBoundingClientRect();n.setSize(r.width,r.height);const o=u.ZP.newInstance();o.setView(n),o.initialize(),o.bindEvents(a),o.setInteractorStyle(C.ZP.newInstance());const i=m.ZP.newInstance(),l=M.ZP.newInstance(),s=Z.ZP.newInstance();g.value={renderWindow:e,renderer:t,openGlRenderWindow:n,interactor:o,actor:s,mapper:l,reader:i,container:a}}function N(){w=!0;const{reader:e,mapper:t,actor:n,renderWindow:a,renderer:r}=g.value;f.value=0;const o=e=>{e.lengthComputable?(f.value=Math.floor(100*e.loaded/e.total),f.value<100&&(x.value="Loading "+f.value+"%")):f.value=100};s.Z.fetchBinary("/data/reco_volume_"+v.value+".vti",{progressCallback:o}).then((o=>{e.parseAsArrayBuffer(o);const i=e.getOutputData(0),l=i.getPointData().getScalars()||i.getPointData().getArrays()[0],s=l.getRange();t.setInputData(i);const c=.7*Math.sqrt(i.getSpacing().map((e=>e*e)).reduce(((e,t)=>e+t),0));t.setSampleDistance(c),n.setMapper(t),n.getProperty().setRGBTransferFunction(0,I),n.getProperty().setScalarOpacity(0,P),n.getProperty().setInterpolationTypeToLinear(),n.getProperty().setScalarOpacityUnitDistance(0,H.ZP.getDiagonalLength(i.getBounds())/Math.max(...i.getDimensions())),n.getProperty().setGradientOpacityMinimumValue(0,0),n.getProperty().setGradientOpacityMaximumValue(0,.05*(s[1]-s[0])),n.getProperty().setShade(!0),n.getProperty().setUseGradientOpacity(0,!0),n.getProperty().setGradientOpacityMinimumOpacity(0,0),n.getProperty().setGradientOpacityMaximumOpacity(0,1),n.getProperty().setAmbient(.2),n.getProperty().setDiffuse(.7),n.getProperty().setSpecular(.3),n.getProperty().setSpecularPower(8),r.addVolume(n);const d=U.ZP.newInstance();d.setCamera(r.getActiveCamera()),d.setDataBounds(n.getBounds()),r.addActor(d),r.resetCamera(),a.render(),w=!1,L()}))}function z(){y=!0,k().get("/data/reco_series_"+v.value+".json").then((e=>{if(0===e.data.code){const t=e.data.data;b.series=t,o.value=K,a.value=t.length;const n=S.ZP.newInstance();b.plane=n;const[r,i,l]=A(t,0);n.setOrigin(r),n.setPoint1(i),n.setPoint2(l);const s=O.ZP.newInstance(),c=W.ZP.newInstance();s.setInputConnection(n.getOutputPort()),c.setMapper(s),c.getProperty().setColor([.25,.5,1]);const{renderWindow:d,renderer:u}=g.value;u.addActor(c),u.resetCamera(),d.render(),y=!1,L()}}))}function B(){const{container:e}=g.value;null===h&&(h=l.kN.service({target:e,lock:!0,text:x,background:"rgba(0, 0, 0, 0.7)"}))}function L(){null===h||w||y||(h.close(),h=null,_.value=!1,n("reconstructing",!1))}function V(){if(g.value){const{actor:e,mapper:t,reader:n}=g.value;n.delete(),t.delete(),e.delete()}const e=m.ZP.newInstance(),t=M.ZP.newInstance(),n=Z.ZP.newInstance(),{renderWindow:a,renderer:r,openGlRenderWindow:o,interactor:i,container:l}=g.value;r.removeAllActors(),a.render(),g.value={renderWindow:a,renderer:r,openGlRenderWindow:o,interactor:i,actor:n,mapper:t,reader:e,container:l}}function j(){if(g.value){const{renderWindow:e,renderer:t,openGlRenderWindow:n,interactor:a,actor:r,mapper:o,reader:i}=g.value;i.delete(),o.delete(),r.delete(),a.delete(),n.delete(),t.delete(),e.delete(),g.value=null}}function T(e){if("series"in b){const[t,n,a]=A(b.series,e-1);b.plane.setOrigin(t),b.plane.setPoint1(n),b.plane.setPoint2(a),b.renderWindow.render()}}function q(e){v.value=e,V()}function F(){_.value=!0,n("reconstructing",!0),V(),x.value="Pending ...",B(),N(),z()}return(0,r.bv)((()=>{D()})),(0,r.Jd)((()=>{j()})),t({value_change:T,value:o,data_id_change:q,data_id:v}),(e,t)=>{const n=(0,r.up)("el-button");return(0,r.wg)(),(0,r.iD)("div",J,[Y,X,(0,r.Wm)(n,{type:"primary",size:"large",onClick:F,disabled:_.value},{default:(0,r.w5)((()=>[(0,r.Uk)("Online Reconstruction")])),_:1},8,["disabled"])])}}};const Q=(0,P.Z)($,[["__scopeId","data-v-031efbae"]]);var ee=Q,te=(n(7658),n(8720)),ne=n(3190),ae=n(542),re=n(6075),oe=n(2015),ie=n(5977),le=n(12),se=n(57),ce=n(7309),de=n(602),ue=n(7485),pe=n(8499),ge=n(5381),ve=n(7049);const fe=e=>((0,r.dD)("data-v-3228fa1a"),e=e(),(0,r.Cn)(),e),me={id:"imu"},he=fe((()=>(0,r._)("h2",null,"Calibrated IMU Data",-1))),we=fe((()=>(0,r._)("div",{class:"con4"},null,-1))),ye=[he,we],xe=1;var _e={__name:"IMUData",setup(e,{expose:t}){te.D([ae.N,re.N,oe.N,ie.N,le.N,se.N,ce.N,de.N,ue.N,pe.N,ve.N,ge.z]);const n=(0,i.iH)(xe),a=(0,i.iH)(null);let o=null;const s=(0,i.iH)(0);let c=null;const d=(0,i.iH)("Loading");function u(){let e=document.querySelector(".con4");a.value={container:e}}function p(e,t,n){let a=[];for(let r=0;r<e[t].length;r++)a.push(e[t][r][n].toFixed(2));return a.join(", ")}function g(e,t){const{container:n}=a.value;let r;null===o&&(o=ne.S1(n)),o.clear();let i=[];for(let a=0;a<e.length;a++)for(let n=0;n<e[a].length;n++)i.push({name:"IMU"+(a+1),type:"line",xAxisIndex:n,yAxisIndex:n,data:e[a][n],lineStyle:{opacity:.5}}),i.push({name:"IMU"+(a+1),type:"line",xAxisIndex:n+3,yAxisIndex:n+3,data:t[a][n],lineStyle:{opacity:.5}});r={animation:!1,legend:{top:"0%",left:"center",data:["IMU1","IMU2","IMU3","IMU4"]},tooltip:{trigger:"axis",axisPointer:{type:"cross"},backgroundColor:"rgba(255, 255, 255, 0.8)",position:{top:"6%",left:"98%"},formatter:function(n){return n=n[0],["Frame Index: "+n.dataIndex+'<hr style="margin: 3px 0">','AngX, AngY, AngZ<hr style="margin: 3px 0">',"IMU1: ("+p(e,0,n.dataIndex)+")<br/>","IMU2: ("+p(e,1,n.dataIndex)+")<br/>","IMU3: ("+p(e,2,n.dataIndex)+")<br/>","IMU4: ("+p(e,3,n.dataIndex)+")<br/>",'<hr style="margin: 3px 0">AccX, AccY, AccZ<hr style="margin: 3px 0">',"IMU1: ("+p(t,0,n.dataIndex)+")<br/>","IMU2: ("+p(t,1,n.dataIndex)+")<br/>","IMU3: ("+p(t,2,n.dataIndex)+")<br/>","IMU4: ("+p(t,3,n.dataIndex)+")<br/>"].join("")}},axisPointer:{link:{xAxisIndex:"all"},label:{backgroundColor:"#777"}},toolbox:{feature:{dataZoom:{yAxisIndex:!1},brush:{type:["lineX","clear"]}}},brush:{xAxisIndex:"all",brushLink:"all",outOfBrush:{colorAlpha:.1}},grid:[{left:"4%",width:"28%",top:"12%",height:"32%"},{left:"36%",width:"28%",top:"12%",height:"32%"},{left:"68%",width:"28%",top:"12%",height:"32%"},{left:"4%",width:"28%",bottom:"13%",height:"32%"},{left:"36%",width:"28%",bottom:"13%",height:"32%"},{left:"68%",width:"28%",bottom:"13%",height:"32%"}],title:[{text:"Angle X (degree)",left:"18%",top:"7%",textAlign:"center",textStyle:{fontSize:12,fontWeight:"normal"}},{text:"Angle Y (degree)",left:"50%",top:"7%",textAlign:"center",textStyle:{fontSize:12,fontWeight:"normal"}},{text:"Angle Z (degree)",left:"82%",top:"7%",textAlign:"center",textStyle:{fontSize:12,fontWeight:"normal"}},{text:"Accele X (m/s^2)",left:"18%",top:"50%",textAlign:"center",textStyle:{fontSize:12,fontWeight:"normal"}},{text:"Accele Y (m/s^2)",left:"50%",top:"50%",textAlign:"center",textStyle:{fontSize:12,fontWeight:"normal"}},{text:"Accele Z (m/s^2)",left:"82%",top:"50%",textAlign:"center",textStyle:{fontSize:12,fontWeight:"normal"}}],xAxis:[{type:"category",gridIndex:0,scale:!0,boundaryGap:!1,axisLine:{onZero:!1},splitLine:{show:!1},splitNumber:20,min:"dataMin",max:"dataMax",axisPointer:{z:100}},{type:"category",gridIndex:1,scale:!0,boundaryGap:!1,axisLine:{onZero:!1},splitLine:{show:!1},splitNumber:20,min:"dataMin",max:"dataMax",axisPointer:{z:100}},{type:"category",gridIndex:2,scale:!0,boundaryGap:!1,axisLine:{onZero:!1},splitLine:{show:!1},splitNumber:20,min:"dataMin",max:"dataMax",axisPointer:{z:100}},{type:"category",gridIndex:3,scale:!0,boundaryGap:!1,axisLine:{onZero:!1},splitLine:{show:!1},splitNumber:20,min:"dataMin",max:"dataMax",axisPointer:{z:100}},{type:"category",gridIndex:4,scale:!0,boundaryGap:!1,axisLine:{onZero:!1},splitLine:{show:!1},splitNumber:20,min:"dataMin",max:"dataMax",axisPointer:{z:100}},{type:"category",gridIndex:5,scale:!0,boundaryGap:!1,axisLine:{onZero:!1},splitLine:{show:!1},splitNumber:20,min:"dataMin",max:"dataMax",axisPointer:{z:100}}],yAxis:[{scale:!0,gridIndex:0,splitNumber:4,splitArea:{show:!0}},{scale:!0,gridIndex:1,splitNumber:4,splitArea:{show:!0}},{scale:!0,gridIndex:2,splitNumber:4,splitArea:{show:!0}},{scale:!0,gridIndex:3,splitNumber:4,splitArea:{show:!0}},{scale:!0,gridIndex:4,splitNumber:4,splitArea:{show:!0}},{scale:!0,gridIndex:5,splitNumber:4,splitArea:{show:!0}}],dataZoom:[{type:"inside",xAxisIndex:[0,1,2,3,4,5],start:0,end:100},{show:!0,xAxisIndex:[0,1,2,3,4,5],type:"slider",left:"3%",width:"93%",bottom:"1%",height:"5%",start:0,end:100}],series:i},r&&o.setOption(r),window.onresize=()=>{o.resize()}}function v(){k().get("/data/imu_"+s.value+".json").then((e=>{if(0===e.data.code){const t=e.data.data.angle,a=e.data.data.accele;n.value=xe,g(t,a),h()}}))}function f(){null!==o&&o.clear()}function m(){const{container:e}=a.value;null===c&&(c=l.kN.service({target:e,lock:!0,text:d,background:"rgba(0, 0, 0, 0.7)"}))}function h(){null!==c&&(c.close(),c=null)}function w(e){n.value=e}function y(e){s.value=e,m(),v()}return(0,r.bv)((()=>{u(),m(),v()})),(0,r.Jd)((()=>{f()})),t({value_change:w,value:n,data_id_change:y,data_id:s}),(e,t)=>((0,r.wg)(),(0,r.iD)("div",me,ye))}};const Ie=(0,P.Z)(_e,[["__scopeId","data-v-3228fa1a"]]);var Pe=Ie;const be=e=>((0,r.dD)("data-v-1d173ec5"),e=e(),(0,r.Cn)(),e),Ae={class:"display"},Ce={class:"tm"},Ze={class:"render"},Me={class:"r1"},Se={class:"r2"},Oe={class:"r3"},We={class:"r4"},De=be((()=>(0,r._)("div",{class:"tips"},[(0,r._)("p",null,[(0,r.Uk)(' Hello and welcome to OSCNet Demo! This is a demo of our paper "Multi-IMU with Online Self-Consistency for Freehand 3D Ultrasound Reconstruction" submitted to '),(0,r._)("i",null,"MICCAI 2023"),(0,r.Uk)(". The following steps can help you utilize this demo more effectively. ")]),(0,r._)("ol",null,[(0,r._)("li",null,"Choose an ultrasound scan from the left-hand list."),(0,r._)("li",null,"Move the slider below the scan sequence to examine the sequence images."),(0,r._)("li",null,'Click the "Online Reconstruction" button below the reconstructed volume to start online reconstruction.'),(0,r._)("li",null,"Move the mouse to interactively view the 3D volume.")])],-1)));var ke={__name:"MainView",emits:["reconstructing"],setup(e,{expose:t,emit:n}){const a=(0,i.iH)("Arm Case 1 (Curved)"),l=(0,i.iH)(),s=(0,i.iH)(),c=(0,i.iH)(),d=(0,i.iH)();function u(e){s.value.value_change(e),s.value.value=e,c.value.value_change(e),c.value.value=e,d.value.value_change(e),d.value.value=e}function p(e,t){a.value=e,l.value.data_id_change(t),l.value.data_id=t,s.value.data_id_change(t),s.value.data_id=t,c.value.data_id_change(t),c.value.data_id=t,d.value.data_id_change(t),d.value.data_id=t}function g(e){n("reconstructing",e)}return t({data_id_change:p}),(e,t)=>((0,r.wg)(),(0,r.iD)("div",Ae,[(0,r._)("div",Ce,[(0,r._)("h1",null,"Data: "+(0,o.zw)(a.value),1)]),(0,r._)("div",Ze,[(0,r._)("div",Me,[(0,r.Wm)((0,i.SU)(A),{ref_key:"frame",ref:l,onChange_frame_id:u},null,512)]),(0,r._)("div",Se,[(0,r.Wm)((0,i.SU)(F),{ref_key:"actual",ref:s},null,512)]),(0,r._)("div",Oe,[(0,r.Wm)((0,i.SU)(ee),{ref_key:"reco",ref:c,onReconstructing:g},null,512)]),(0,r._)("div",We,[(0,r.Wm)(Pe,{ref_key:"imu",ref:d},null,512)])]),De]))}};const Re=(0,P.Z)(ke,[["__scopeId","data-v-1d173ec5"]]);var Ge=Re,He=n(7178);const Ue=(0,r._)("div",{class:"title"},[(0,r._)("h1",null,"OSCNet Demo"),(0,r._)("h3",null,"Multi-IMU with Online Self-Consistency for Freehand 3D Ultrasound Reconstruction")],-1),Ne=["onClick"],ze={class:"img_title"},Be=(0,r._)("div",{class:"foot"},[(0,r._)("h3",null,"MICCAI 2023 Submission. Paper ID: #1835")],-1);var Le={__name:"App",setup(e){const t=(0,i.iH)(),n=(0,i.iH)(),a=(0,i.iH)(null);let l=0;const s=(0,i.iH)(!1);function c(e,r){if(r!==l)if(s.value){const e=a.value[l];He.z8.error("Reconstructing ("+e.slice(0,e.indexOf("(")-1)+") in progress!")}else n.value[l].style.border="2px solid black",n.value[l].style.background="",n.value[r].style.border="4px solid rgb(64, 128, 255)",n.value[r].style.background="#ccc",t.value.data_id_change(e,r),l=r}function d(e){s.value=e}function u({container:e=document.body,width:t="400px",height:n="300px",textAlign:a="center",textBaseline:r="middle",font:o="20px Microsoft Yahei",fillStyle:i="rgba(184, 184, 184, 0.4)",content:l="MICCAI #1835",rotate:s="30",zIndex:c=1e3}={}){const d=arguments[0],p=document.createElement("canvas");p.setAttribute("width",t),p.setAttribute("height",n);const g=p.getContext("2d");g.textAlign=a,g.textBaseline=r,g.font=o,g.fillStyle=i,g.rotate(Math.PI/180*s),g.fillText(l,parseFloat(t)/2,parseFloat(n)/2);const v=p.toDataURL(),f=document.querySelector(".__wm"),m=f||document.createElement("div"),h=`\n    position:absolute;\n    top:0;\n    left:0;\n    width:100%;\n    height:100%;\n    z-index:${c};\n    pointer-events:none;\n    background-repeat:repeat;\n    background-image:url('${v}')`;m.setAttribute("style",h),m.classList.add("__wm"),f||(e.style.position="relative",e.insertBefore(m,e.firstChild));const w=window.MutationObserver||window.WebKitMutationObserver;if(w){let t=new w((function(){const e=document.querySelector(".__wm");(e&&e.getAttribute("style")!==h||!e)&&(t.disconnect(),t=null,u(JSON.parse(JSON.stringify(d))))}));t.observe(e,{attributes:!0,subtree:!0,childList:!0})}}return(0,r.bv)((()=>{let e=setInterval((()=>{"undefined"!=typeof n.value&&(clearInterval(e),e=null,n.value[l].style.border="4px solid rgb(64, 128, 255)",n.value[l].style.background="#ccc")}),100)})),a.value=["Arm Case 1 (Curved)","Arm Case 2 (Loop)","Arm Case 3 (Sector)","Carotid Case 1 (Sector)","Carotid Case 2 (Loop)","Carotid Case 3 (Linear)"],u({content:"MICCAI #1835"}),(e,l)=>{const s=(0,r.up)("el-header"),u=(0,r.up)("el-image"),p=(0,r.up)("el-scrollbar"),g=(0,r.up)("el-aside"),v=(0,r.up)("el-main"),f=(0,r.up)("el-footer"),m=(0,r.up)("el-container");return(0,r.wg)(),(0,r.j4)(m,null,{default:(0,r.w5)((()=>[(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[Ue])),_:1}),(0,r.Wm)(m,null,{default:(0,r.w5)((()=>[(0,r.Wm)(g,null,{default:(0,r.w5)((()=>[(0,r.Wm)(p,{class:"aside_file"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.value,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{class:"aside_block",ref_for:!0,ref_key:"img_list",ref:n,key:t,onClick:n=>c(e,t)},[(0,r._)("div",ze,(0,o.zw)(e.slice(0,e.indexOf("(")-1)),1),(0,r.Wm)(u,{src:"/data/image_"+t+".png",lazy:""},null,8,["src"])],8,Ne)))),128))])),_:1})])),_:1}),(0,r.Wm)(m,null,{default:(0,r.w5)((()=>[(0,r.Wm)(v,null,{default:(0,r.w5)((()=>[(0,r.Wm)((0,i.SU)(Ge),{ref_key:"reco",ref:t,onReconstructing:d},null,512)])),_:1}),(0,r.Wm)(f,null,{default:(0,r.w5)((()=>[Be])),_:1})])),_:1})])),_:1})])),_:1})}}};const Ve=Le;var je=Ve,Te=n(2483);const qe=[{path:"/",name:"home",component:Ge}],Fe=(0,Te.p7)({history:(0,Te.r5)("/"),routes:qe});var Ee=Fe,Je=n(65),Ye=(0,Je.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}}),Xe=n(8814);n(4415);(0,a.ri)(je).use(Ye).use(Ee).use(Xe.Z).mount("#app")},5042:function(){}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,function(){n.amdD=function(){throw new Error("define cannot be used indirect")}}(),function(){n.amdO={}}(),function(){var e=[];n.O=function(t,a,r,o){if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],r=e[d][1],o=e[d][2];for(var l=!0,s=0;s<a.length;s++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[s])}))?a.splice(s--,1):(l=!1,o<i&&(i=o));if(l){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,r,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,o,i=a[0],l=a[1],s=a[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(s)var d=s(n)}for(t&&t(a);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},a=self["webpackChunkoscnet_web"]=self["webpackChunkoscnet_web"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(812)}));a=n.O(a)})();